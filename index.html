<!DOCTYPE html>
<html lang="en">

<head>
    <!-- ==========================================================================
       Metadata & Title
       ========================================================================== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="site-title"></title>
    <link rel="icon" type="image/x-icon" href="public/images/favicon.ico">

    <!-- ==========================================================================
       Fonts & Icons
       ========================================================================== -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- ==========================================================================
       Stylesheets
       ========================================================================== -->
    <link rel="stylesheet" href="style.css">

    <!-- ==========================================================================
       Third-Party Scripts
       ========================================================================== -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
</head>

<body class="loading">

    <!-- ==========================================================================
       Page Loader
       ========================================================================== -->
    <div id="loader">
        <div class="loader-spinner"></div>
    </div>

    <!-- ==========================================================================
       Background & UI Elements
       ========================================================================== -->
    <!-- Particle Background -->
    <canvas id="particle-canvas"></canvas>

    <!-- Global Custom Scrollbar -->
    <div class="scrollbar-track" id="scrollbar-track">
        <div class="scrollbar-thumb" id="scrollbar-thumb"></div>
    </div>

    <!-- ==========================================================================
       Navigation Header
       ========================================================================== -->
    <header class="header">
        <div class="container">
            <a href="#hero" class="logo" id="site-logo">Loading...</a>
            <nav class="navbar" id="site-nav">
                <!-- Nav items injected -->
            </nav>
            <div class="mobile-toggle">
                <i class="fa-solid fa-bars"></i>
            </div>
        </div>
    </header>

    <!-- ==========================================================================
       Main Content Wrapper
       ========================================================================== -->
    <div class="scroll-container" id="scroll-container">

        <!-- 1. Hero Section -->
        <section id="hero" class="hero">
            <div class="container hero-container">
                <div class="hero-content fade-in-up">
                    <span class="subtitle">Hello, I'm</span>
                    <h1 class="title" id="hero-name">Loading...</h1>
                    <p class="description" id="hero-desc">Loading...</p>
                    <div class="hero-btns">
                        <a href="#portfolio" class="btn btn-primary ripple">View My Work</a>
                        <a href="#contact" class="btn btn-outline ripple">Contact Me</a>
                    </div>
                    <div class="social-links" id="hero-social">
                        <!-- Social links injected  -->
                    </div>
                </div>
                <div class="hero-visual fade-in-left">
                    <div class="profile-img-container floating">
                        <img src="" alt="Profile" id="hero-img">
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. About Section -->
        <section id="about" class="section about">
            <div class="container">
                <div class="section-header reveal">
                    <span class="section-subtitle" id="about-subtitle"></span>
                    <h2 class="section-title" id="about-title"></h2>
                </div>
                <div class="about-content reveal">
                    <div class="about-text" id="about-text">
                        <!-- About text injected dynamically -->
                    </div>
                </div>
                <div class="stats reveal" id="about-stats">
                    <!-- Stats injected dynamically -->
                </div>
            </div>
        </section>

        <!-- 3. Skills Section -->
        <section id="skills" class="section skills">
            <div class="container">
                <div class="section-header reveal">
                    <span class="section-subtitle" id="skills-subtitle"></span>
                    <h2 class="section-title" id="skills-title"></h2>
                </div>
                <div class="skills-container" id="skills-container">
                    <!-- Skills categories injected dynamically -->
                </div>
            </div>
        </section>

        <!-- 4. Portfolio Section -->
        <section id="portfolio" class="section portfolio">
            <div class="container">
                <div class="section-header reveal">
                    <span class="section-subtitle" id="portfolio-subtitle"></span>
                    <h2 class="section-title" id="portfolio-title"></h2>
                </div>
                <div class="portfolio-grid" id="portfolio-grid">
                    <!-- Projects injected dynamically -->
                </div>
            </div>
        </section>

        <!-- 5. Contact Section -->
        <section id="contact" class="section contact">
            <div class="container">
                <div class="section-header reveal">
                    <span class="section-subtitle" id="contact-subtitle"></span>
                    <h2 class="section-title" id="contact-title"></h2>
                </div>
                <div class="contact-wrapper reveal">
                    <div class="contact-info" id="contact-info">
                        <!-- Contact info injected dynamically -->
                    </div>
                    <form class="contact-form" id="contact-form">
                        <!-- Security Honey-pot -->
                        <div style="display:none;">
                            <input type="text" name="honey_pot" id="honey-pot">
                        </div>

                        <div class="form-group">
                            <label class="floating-label">Name</label>
                            <input type="text" id="contact-name" name="user_name" required placeholder="John Doe">
                        </div>
                        <div class="form-group">
                            <label class="floating-label">Email</label>
                            <input type="email" id="contact-email" name="user_email" required
                                placeholder="john@example.com">
                        </div>
                        <div class="form-group">
                            <label class="floating-label">Subject</label>
                            <input type="text" id="contact-subject" name="subject" placeholder="Project Inquiry">
                        </div>
                        <div class="form-group">
                            <label class="floating-label">Message</label>
                            <textarea id="contact-message" name="message" rows="5" required
                                placeholder="How can I help you?"></textarea>
                        </div>
                        <div id="contact-status" class="contact-status"></div>
                        <button type="submit" class="btn btn-primary ripple" id="submit-btn">
                            <i class="fa-solid fa-paper-plane"></i>
                            <span>Send Message</span>
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div id="footer-big-logo" class="footer-big-logo"></div>
            <div class="container footer-content">
                <div class="footer-social" id="footer-social">
                    <!-- Social links injected dynamically -->
                </div>
                <p id="footer-text" class="footer-text"></p>
                <div class="footer-links">
                    <a href="terms.html">Terms of Service</a>
                    <span class="separator">â€¢</span>
                    <a href="privacy.html">Privacy Policy</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- ==========================================================================
       Overlay Modals
       ========================================================================== -->
    <div id="image-modal" class="image-modal">
        <div class="modal-backdrop"></div>
        <button class="modal-close"><i class="fa-solid fa-xmark"></i></button>
        <div class="modal-content">
            <img src="" alt="Profile Full" id="modal-img">
        </div>
    </div>

    <!-- ==========================================================================
       Application Script
       ========================================================================== -->
    <script>
        /**************************************************************************
         * 1. CORE INITIALIZATION
         **************************************************************************/
        document.addEventListener('DOMContentLoaded', () => {
            const loader = document.getElementById('loader');

            // Load all data from data.json
            fetch('data.json')
                .then(response => response.json())
                .then(data => {
                    // Load images.json
                    return fetch('images.json')
                        .then(imgResponse => imgResponse.json())
                        .then(images => ({ data, images }))
                        .catch(() => ({ data, images: null }));
                })
                .then(({ data, images }) => {
                    populateSite(data.site, data.profile, images);
                    populateHero(data.profile, images);
                    populateAbout(data.about);
                    populateSkills(data.skills);
                    populateProjects(data.projects);
                    populateContact(data.contact);


                })
                .catch(error => {
                    console.error('Error loading data:', error);
                    if (loader) loader.innerHTML = '<p style="color:var(--black); text-align:center; padding-top: 20px;">Error loading content. Please check your data.json file.</p>';
                })
                .finally(() => {
                    setTimeout(() => {
                        if (loader) loader.style.opacity = '0';
                        setTimeout(() => {
                            if (loader) loader.style.display = 'none';
                            document.body.classList.remove('loading');
                            initScrollSpy();
                            initRevealAnimations();
                        }, 500);
                    }, 800);
                });

            // Set up UI Interactivity
            initMobileMenu();
            initRippleEffect();
            initHeaderScroll();
            initImageModal();
            initContactForm();
            initCustomScrollbar();
        });


        function initCustomScrollbar() {
            const thumb = document.getElementById('scrollbar-thumb');
            const track = document.getElementById('scrollbar-track');
            if (!thumb || !track) return;

            function updateScrollbar() {
                const docHeight = document.documentElement.scrollHeight;
                const winHeight = window.innerHeight;
                const scrollTop = window.scrollY || document.documentElement.scrollTop;

                if (docHeight <= winHeight) {
                    thumb.style.height = '0px';
                    return;
                }

                const scrollPercent = scrollTop / (docHeight - winHeight);
                const thumbHeight = Math.max(20, (winHeight / docHeight) * winHeight);
                const maxTop = winHeight - thumbHeight;
                const thumbTop = scrollPercent * maxTop;

                thumb.style.height = `${thumbHeight}px`;
                thumb.style.transform = `translateY(${thumbTop}px)`;
            }

            window.addEventListener('scroll', updateScrollbar);
            window.addEventListener('resize', updateScrollbar);
            // Update on mutation (content load)
            const observer = new MutationObserver(updateScrollbar);
            observer.observe(document.body, { childList: true, subtree: true });

            updateScrollbar();
        }

        /**************************************************************************
         * 2. DATA POPULATION FUNCTIONS
         **************************************************************************/

        function populateSite(site, profile, images) {
            document.getElementById('site-title').textContent = site.title;
            const logo = document.getElementById('site-logo');
            const bigLogo = document.getElementById('footer-big-logo');
            const logoText = site.logo.text;
            let charIndex = 0;
            const coloredText = logoText.split('').map(char => {
                if (char.trim() === '') return char;
                charIndex++;
                return `<span class="logo-char-${charIndex}">${char}</span>`;
            }).join('');

            const faviconSrc = (images && images.favicon) ? images.favicon : 'public/images/favicon.ico';
            const logoHTML = `<img src="${faviconSrc}" alt="Icon" class="logo-icon"> <div>${coloredText}<span>${site.logo.span.replace(/\.$/, '<span class="logo-dot">.</span>')}</span></div>`;
            logo.innerHTML = logoHTML;
            if (bigLogo) bigLogo.innerHTML = coloredText + `<span>${site.logo.span.replace(/\.$/, '<span class="logo-dot">.</span>')}</span>`;

            const nav = document.getElementById('site-nav');
            site.nav.forEach((item, index) => {
                const a = document.createElement('a');
                a.href = item.link;
                a.textContent = item.label;
                if (index === 0) a.classList.add('active');
                nav.appendChild(a);
            });

            // Section Headers
            Object.keys(site.sections).forEach(key => {
                const section = site.sections[key];
                const subtitle = document.getElementById(`${key}-subtitle`);
                const title = document.getElementById(`${key}-title`);
                if (subtitle) subtitle.textContent = section.subtitle;
                if (title) title.textContent = section.title;
            });

            document.getElementById('footer-text').innerHTML = site.footer;

            // Footer Socials
            const footerSocial = document.getElementById('footer-social');
            if (footerSocial && profile && profile.social) {
                profile.social.forEach(link => {
                    const a = document.createElement('a');
                    a.href = link.url;
                    a.innerHTML = `<i class="${link.icon}"></i>`;
                    footerSocial.appendChild(a);
                });
            }
        }

        function populateHero(profile, images) {
            document.getElementById('hero-name').textContent = profile.name;
            document.getElementById('hero-desc').textContent = profile.description;

            const heroImg = document.getElementById('hero-img');
            if (images && images.profile) {
                heroImg.src = images.profile;
                heroImg.alt = profile.name;
            } else if (profile.profileImage) {
                heroImg.src = profile.profileImage;
                heroImg.alt = profile.name;
            } else {
                heroImg.parentElement.style.display = 'none';
            }

            const socialContainer = document.getElementById('hero-social');
            profile.social.forEach(link => {
                const a = document.createElement('a');
                a.href = link.url;
                a.innerHTML = `<i class="${link.icon}"></i>`;
                socialContainer.appendChild(a);
            });
        }

        function populateAbout(about) {
            const textContainer = document.getElementById('about-text');
            about.text.forEach(p => {
                const para = document.createElement('p');
                para.textContent = p;
                textContainer.appendChild(para);
            });

            const statsContainer = document.getElementById('about-stats');
            about.stats.forEach(stat => {
                const div = document.createElement('div');
                div.className = 'stat-item';
                div.innerHTML = `<h3>${stat.value}</h3><p>${stat.label}</p>`;
                statsContainer.appendChild(div);
            });
        }

        function populateSkills(skills) {
            const container = document.getElementById('skills-container');
            const categories = {
                programming_languages: "Programming Languages",
                frontend: "Frontend Development",
                backend_and_apis: "Backend & APIs",
                mobile_development: "Mobile Development",
                ai_machine_learning: "AI & Machine Learning",
                databases: "Databases",
                devops_and_tools: "DevOps & Cloud",
                tools_and_ides: "IDEs & Tools",
                design_and_media: "Design & Media"
            };

            Object.keys(skills).forEach((key, index) => {
                const category = document.createElement('div');
                category.className = 'skill-category reveal';
                category.style.transitionDelay = `${index * 100}ms`;

                const title = categories[key] || key.replace(/_/g, ' ');
                let skillTags = skills[key].map(skill => `<span class="skill-tag">${skill}</span>`).join('');

                category.innerHTML = `
                    <h3>${title}</h3>
                    <div class="skill-list">${skillTags}</div>
                `;
                container.appendChild(category);
            });
        }

        function populateProjects(projects) {
            const grid = document.getElementById('portfolio-grid');
            projects.forEach((project, index) => {
                const card = document.createElement('div');
                card.className = 'project-card reveal';
                card.style.transitionDelay = `${index * 150}ms`;

                const techTags = project.tech_stack.map(tech => `<span class="tech-tag">${tech}</span>`).join('');

                card.innerHTML = `
                    <div class="project-img">
                        <img src="${project.image || ''}" alt="${project.name}" class="project-card-img" 
                             onerror="this.style.display='none'; this.parentElement.classList.add('no-image');">
                        <div class="img-fallback"></div>
                    </div>
                    <div class="project-content">
                        <h3>${project.name}</h3>
                        <p>${project.description}</p>
                        <div class="tech-stack">${techTags}</div>
                        <div class="project-links">
                            <a href="${project.repository}" target="_blank" class="project-link">
                                <i class="fa-brands fa-github"></i> Source
                            </a>
                            ${project.live_preview ? `
                            <a href="${project.live_preview}" target="_blank" class="project-link demo-link">
                                <i class="fa-solid fa-arrow-up-right-from-square"></i> Live Preview Link
                            </a>` : ''}
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function populateContact(contact) {
            const infoContainer = document.getElementById('contact-info');
            const icons = { location: 'fa-location-dot', email: 'fa-envelope', phone: 'fa-phone' };

            Object.keys(contact).forEach(key => {
                const div = document.createElement('div');
                div.className = 'info-item';
                div.innerHTML = `
                    <i class="fa-solid ${icons[key]}"></i>
                    <div>
                        <h4>${key.charAt(0).toUpperCase() + key.slice(1)}</h4>
                        <p>${contact[key]}</p>
                    </div>
                `;
                infoContainer.appendChild(div);
            });
        }

        /**************************************************************************
         * 3. UI COMPONENTS & INTERACTION
         **************************************************************************/

        function initMobileMenu() {
            const mobileToggle = document.querySelector('.mobile-toggle');
            const navbar = document.querySelector('.navbar');

            if (mobileToggle && navbar) {
                mobileToggle.addEventListener('click', () => {
                    navbar.classList.toggle('active');
                    const icon = mobileToggle.querySelector('i');
                    icon.classList.toggle('fa-bars');
                    icon.classList.toggle('fa-xmark');
                });

                // Close menu when clicking a link
                document.querySelectorAll('.navbar a').forEach(link => {
                    link.addEventListener('click', () => {
                        navbar.classList.remove('active');
                        const icon = mobileToggle.querySelector('i');
                        icon.classList.add('fa-bars');
                        icon.classList.remove('fa-xmark');
                    });
                });
            }
        }

        function initRippleEffect() {
            document.addEventListener('click', function (e) {
                if (e.target.classList.contains('ripple')) {
                    const btn = e.target;
                    const x = e.clientX - btn.offsetLeft;
                    const y = e.clientY - btn.offsetTop;
                    const ripples = document.createElement('span');
                    ripples.classList.add('ripple-span');
                    ripples.style.left = x + 'px';
                    ripples.style.top = y + 'px';
                    btn.appendChild(ripples);
                    setTimeout(() => ripples.remove(), 1000);
                }
            });
        }

        function initHeaderScroll() {
            const header = document.querySelector('.header');
            let lastScrollY = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;

            let isNavigating = false;
            let navTimeout;

            const handleScroll = () => {
                if (isNavigating) return;

                const currentScroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
                if (!header) return;

                if (currentScroll > lastScrollY && currentScroll > 100) {
                    // Scrolling Down -> Hide
                    header.classList.add('hidden');
                } else if (currentScroll < lastScrollY) {
                    // Scrolling Up -> Show
                    header.classList.remove('hidden');
                }

                if (currentScroll > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                    header.classList.remove('hidden');
                }
                lastScrollY = currentScroll;
            };

            // Prevent hiding when clicking nav links
            document.addEventListener('click', (e) => {
                const link = e.target.closest('.navbar a');
                if (link && link.getAttribute('href').startsWith('#')) {
                    isNavigating = true;
                    header.classList.remove('hidden');

                    clearTimeout(navTimeout);
                    navTimeout = setTimeout(() => {
                        isNavigating = false;
                        lastScrollY = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
                    }, 1000); // 1s is enough for smooth scroll
                }
            });

            window.addEventListener('scroll', handleScroll, true);
        }

        function initImageModal() {
            const modal = document.getElementById('image-modal');
            const modalImg = document.getElementById('modal-img');
            const profileContainer = document.querySelector('.profile-img-container');

            if (profileContainer && modal && modalImg) {
                profileContainer.addEventListener('click', () => {
                    const heroImg = document.getElementById('hero-img');
                    if (heroImg && heroImg.src) {
                        modalImg.src = heroImg.src;
                        modal.classList.add('active');
                        document.body.style.overflow = 'hidden';
                    }
                });

                modal.addEventListener('click', () => {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                });
            }
        }

        /**************************************************************************
         * 4. SCROLL & ANIMATION LOGIC
         **************************************************************************/

        function initScrollSpy() {
            const sections = document.querySelectorAll("section[id]");
            const navLinks = document.querySelectorAll(".navbar a");
            if (!sections.length || !navLinks.length) return;

            const options = { root: null, rootMargin: '-20% 0px -70% 0px', threshold: 0 };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        navLinks.forEach((link) => {
                            link.classList.toggle("active", link.getAttribute("href") === `#${entry.target.id}`);
                        });
                    }
                });
            }, options);

            sections.forEach((section) => observer.observe(section));

            // Small fix for top of page
            window.addEventListener('scroll', () => {
                if (window.scrollY < 100) {
                    navLinks.forEach(l => l.classList.remove('active'));
                    if (navLinks[0]) navLinks[0].classList.add('active');
                }
            });
        }

        function initRevealAnimations() {
            const observerOptions = { threshold: 0.1 };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        /**************************************************************************
         * 5. PARTICLE BACKGROUND SYSTEM
         **************************************************************************/

        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        const particleCount = 200;
        const colors = ['rgba(0, 0, 0, 0.5)', 'rgba(0, 0, 0, 0.7)', 'rgba(32, 33, 36, 0.7)'];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initParticles();
        }

        class Particle {
            constructor() { this.init(); }
            init() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 1.8 + 0.2;
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.vx = (Math.random() - 0.5) * 0.8;
                this.vy = (Math.random() - 0.5) * 0.8;
                this.maxSpeed = Math.random() * 0.6 + 0.2;
            }
            update() {
                this.x += this.vx; this.y += this.vy;
                if (this.x > canvas.width) this.x = 0; else if (this.x < 0) this.x = canvas.width;
                if (this.y > canvas.height) this.y = 0; else if (this.y < 0) this.y = canvas.height;
                if (Math.random() < 0.02) {
                    this.vx += (Math.random() - 0.5) * 0.1;
                    this.vy += (Math.random() - 0.5) * 0.1;
                    const speed = Math.sqrt(this.vx * this.vx + this.vy * this.vy);
                    if (speed > this.maxSpeed) { this.vx = (this.vx / speed) * this.maxSpeed; this.vy = (this.vy / speed) * this.maxSpeed; }
                }
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            for (let i = 0; i < particleCount; i++) particles.push(new Particle());
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateParticles);
        }

        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();
        animateParticles();

        /**************************************************************************
         * 6. CONTACT FORM SYSTEM (EmailJS)
         **************************************************************************/

        function initContactForm() {
            emailjs.init("0angy-FFhuMJiDUal");

            const contactForm = document.getElementById('contact-form');
            const submitBtn = document.getElementById('submit-btn');
            const statusMsg = document.getElementById('contact-status');
            const honeyPot = document.getElementById('honey-pot');

            if (contactForm) {
                contactForm.addEventListener('submit', function (event) {
                    event.preventDefault();

                    if (honeyPot && honeyPot.value !== "") return;

                    statusMsg.className = 'contact-status';
                    statusMsg.textContent = '';

                    const originalBtnContent = submitBtn.innerHTML;
                    submitBtn.disabled = true;
                    submitBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i><span>Sending...</span>';

                    const templateParams = {
                        from_name: document.getElementById('contact-name').value,
                        from_email: document.getElementById('contact-email').value,
                        subject: document.getElementById('contact-subject').value,
                        message: document.getElementById('contact-message').value
                    };

                    emailjs.send('service_rtmlnoj', 'template_o7kynn5', templateParams)
                        .then(() => {
                            statusMsg.classList.add('success');
                            statusMsg.textContent = 'Message sent successfully! I will get back to you soon.';
                            contactForm.reset();
                        }, (error) => {
                            console.error('EmailJS Error:', error);
                            statusMsg.classList.add('error');
                            statusMsg.textContent = 'Failed to send message. Please try again later.';
                        })
                        .finally(() => {
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = originalBtnContent;
                        });
                });
            }
        }

        /**************************************************************************
         * SECTION FADE-BLUR ANIMATIONS
         **************************************************************************/

        // Initialize all sections as hidden
        document.querySelectorAll('section').forEach(section => {
            section.classList.add('section-hidden');
        });

        // Create intersection observer for section animations
        const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.remove('section-hidden');
                    entry.target.classList.add('section-visible');
                    sectionObserver.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.1,
            rootMargin: '0px'
        });

        // Observe all sections
        document.querySelectorAll('section').forEach(section => {
            sectionObserver.observe(section);
        });
    </script>
</body>

</html>